name: Build lwjgl3

on: [push]

jobs:
  build:
    runs-on: windows-latest
    steps:
    - name: Checkout repository
      uses: actions/checkout@v2

    - name: set up JDK 1.8
      uses: actions/setup-java@v1
      with:
        java-version: 1.8

    - name: Enable Developer Command Prompt
      uses: ilammy/msvc-dev-cmd@v1.4.1
      
    - name: Build with CI build script
      run: mkdir bin && ant generate-all && ant compile && ant compile_native_es

    - name: Upload build output
      uses: actions/upload-artifact@v1
      with:
        name: lwjgl3-windows-natives
        path: windows_build/libs
      
